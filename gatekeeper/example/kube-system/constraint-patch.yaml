apiVersion: constraints.gatekeeper.sh/v1beta1
kind: IngressRouteMatchRestriction
metadata:
  name: require-host
spec:
  parameters:
    exceptions:
      - kind: IngressRoute
        name: example
        namespace: example
        match: HostRegexp(`myaccount.uw.com`, `{subdomain:[a-f0-9]{7}}.myaccount.uw.com`)
---
apiVersion: constraints.gatekeeper.sh/v1beta1
kind: BlockNodePort
metadata:
  name: block-node-port
spec:
  parameters:
    exceptions:
      - name: ingress-controller-logs
        namespace: sys-ingress
        nodePorts:
          - 33333
