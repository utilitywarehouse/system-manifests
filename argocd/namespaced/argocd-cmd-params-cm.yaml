# reference: https://github.com/argoproj/argo-cd/blob/master/docs/operator-manual/argocd-cmd-params-cm.yaml

apiVersion: v1
kind: ConfigMap
metadata:
  name: argocd-cmd-params-cm
data:
  application.namespaces: "*"

  ## Server properties
  # Run server without TLS
  server.insecure: "true"
  server.log.level: "warn"

  ## Controller Properties
  controller.log.level: "warn"
  # Number of application status processors (default 20)
  controller.status.processors: "40"
  # Number of application operation processors (default 10)
  controller.operation.processors: "20"
  # Cache expiration for app state (default 1h0m0s)
  controller.app.state.cache.expiration: "1h"

  ## Repo-server properties
  # Set the logging level. One of: debug|info|warn|error (default "info")
  reposerver.log.level: "warn"
  # Limit on number of concurrent manifests generate requests. Any value less the 1 means no limit.
  reposerver.parallelism.limit: "5"
  # Cache expiration for repo state, incl. app lists, app details, manifest generation, revision meta-data (default 24h0m0s)
  # Argo CD assumes by default that manifests only change when the repo changes, so it caches generated manifests (for 24h by default).
  # With Kustomize remote bases, the manifests can change even though the repo has not changed.
  reposerver.repo.cache.expiration: "1h"
